# 您应该从 Python 2 迁移到 Python 3 的 5 个理由

> 原文：<https://www.stxnext.com/blog/why-migrate-from-python-2-to-python-3/>

 如果你的科技堆里有[Python](https://stxnext.com/services/python-development/)，2020 年 1 月 1 日这一天很可能早就标记在你的日历上了；如果不是，那么应该是——那就是 Python 2 最终失去支持的时候。

不久前，我们发布了一份关于从 Python 2 迁移到 Python 3 的全面指南。本指南的重点是解释如何升级到 Python 3。

现在，我们想后退一步，回答一个你可能会问自己的更基本的问题:  ***为什么*迁移首先如此重要？**

请继续阅读，用 5 个简单的理由来学习。

[![Read or download as PDF](img/2c383262489e8aa11258f165230cd3e3.png)](https://cta-redirect.hubspot.com/cta/redirect/4542168/70673cfa-2089-46d5-a7af-25b9b668f19e) 

#### Python 3 迁移的(漫长)旅程

Python 自 1990 年以来就存在了。在大约十年前 Python 3 第一次发布之前，这种语言已经繁荣了很长时间，所以直到今天大量的 Python 项目仍然使用版本 2 也就不足为奇了。

自从 Python 3 推出以来，Python 用户和爱好者都开始问自己一个简单的问题: **什么时候是迁移的好时机？**

Python 2 最初的终止日期应该是 2015 年，后来被推迟到 2020 年初。随着日期的最终确定，移民问题开始频繁出现。

#### Python 2 项目结束后会有多糟糕？

现在这一时刻即将到来，对最初问题的回答再清楚不过了——迁移的时间是现在*—其他问题很快就会出现。*

 *升级是一项必要的投资，完成升级的成本在清单上排得很高，但更重要的是，另一个紧迫的问题出现了:  **如果你不能及时完成升级怎么办？** 陷入 Python 2 有哪些潜在风险，包括财务风险？

好消息是，如果你错过了设定的最后期限，事情不会变得一团糟。你的 Python 2 项目不会在 2020 年 1 月 1 日终结，这是肯定的。

坏消息是，在那个日期之后维护那些项目会变得更加困难，并且随着您推迟迁移的时间越长，情况会变得越糟。随着时间的推移，这类项目的积极发展尤其会受到最大的影响。

[![Get your free ebook](img/e57940c366dfeae1f4b1d73244fdc8d0.png)](https://cta-redirect.hubspot.com/cta/redirect/4542168/dfc7061b-1a6c-40c6-8752-871f5425acf3)*  *#### 您应该从 Python 2 迁移到 Python 3 的 5 个理由

既然我们已经确定，如果您在 2020 年 1 月 1 日之前成功迁移到 Python 3 将会更好，那么让我们来看看我们为什么认为这是一个好主意的 5 个理由。

##### 1.第三方库

Python 最大的  [优势之一是它提供了大量易于使用的第三方包。乍一看，很难想象这个  *不是* 被认为是 Python 的一个积极方面。](https://stxnext.com/python-vs-other-programming-languages/)

然而，具有讽刺意味的是，Python [库](/stx-new-blog) 和  [框架](/stx-new-blog/beginners-introduction-python-frameworks/) 的现成可用性和绝对数量恰恰是 Python 3 采用缓慢的主要原因。雪上加霜的是，它们现在也成了 Python 2 的克星。

Python 包倾向于在解释器寿命结束后丢弃它们。这样做是为了减少开发人员的工作量，他们经常被迫在空闲时间支持这些项目。

放弃对 Python 主要版本的支持从来都不是一个轻率的决定。 话虽如此，[很多图书馆已经这么做了](https://python3statement.org/)，或者已经宣布他们打算在 2020 年 1 月 1 日之前或当天这么做。

总而言之，就你在 Python 2 项目中使用的库而言，不要期望 2019 年有太多的更新——尤其是包含新功能的更新会让你受益。

##### 2.软件安全性

如果您的项目处于纯维护模式，那么在考虑结束对 Python 2 的支持时，安全性应该是您最关心的问题。

保护 Python 解释器相对简单。一旦发现 Python 2.7 中的安全漏洞超出了它的生命周期，你就必须应用  **非官方安全补丁。** 那些可能源于支持期长达 10 年的 Linux 发行版。但是，如果您目前没有使用这种长期支持的发行版，那么手动应用它们将是必要的。

对第三方依赖的维护将变得更加困难，因为他们肯定会失去 Python 2 支持，如果他们还没有失去的话。如果(极有可能)您遇到了其中任何一个漏洞，您就只能靠自己了。这就是为什么  **这很可能是对 Python 2 应用程序安全性的最大威胁。**

确保软件安全是一项法律要求，尤其是在 GDPR 处理个人信息的时候。  **让你的软件保持最新可以理解地在安全最佳实践中排名很高，** 和一个过时的 Python 解释器几乎肯定会在安全审计中显示为红旗。

[![Read or download as PDF](img/98e9a9956944ee0caa2bfa710ecf2448.png)](https://cta-redirect.hubspot.com/cta/redirect/4542168/9f52debf-f498-4faf-9ecf-dbe0f2f3e7ab) 

##### 3.开发者支持

软件公司是市场上员工流动率最高的公司之一。因此，毫不奇怪的是，  **[吸引新的开发者](https://stxnext.com/ebooks/ultimate-guide-hiring-software-engineers/)并尽可能长久地留住现有的开发者是一个明确的优先事项。**

开发人员热衷于修复东西。他们总是寻求新的挑战，总是寻找下一个最好的东西。如果你不能为他们提供这些，你可能会失去他们的兴趣，并在这个过程中失去他们。

与此同时，  **Python 2 正在缓慢但肯定地成为过去的遗迹，或者充其量是一个利基**。在我们意识到之前，这是一列驶向未来废弃的高速列车。为不受支持和过时的技术解决问题听起来不像是开发人员吹嘘的所有精神火力的良好使用。

Python 2 不再有趣或令人兴奋。相反，它已经成为你的开发人员创造力的死刑判决，并且成为你的项目涉众和实现它的人的麻烦。

简而言之，不迁移到 Python 3 对于您的 Python 项目的未来来说不是一个好兆头，因为您可能很快就会开始努力寻找开发人员来开发它们。

##### 4.错过的机会

我们已经提到了第三方库，不是吗？除此之外，Python 3 仅通过其标准库就带来了很多好处。

首先，  **型的安全性得到了相当大的提高。** 这可能涵盖了最著名的变化:字符串默认为 unicode，其类型明显不同于字节。根据我们的第一手经验，这将节省您通常花费在搜寻 UnicodeDecodeErrors 上的无数时间。

但这还远未结束。Python 3 还为您提供了:

*   **类型注释** 你可以利用这些来提高静态代码分析和整体可用性；
*   **原生异步编程；**
*   **链式异常**、、这些在调试时特别有用；
*   **其他有用的特性** 使得 Python 中的编码更加高效。

这个列表还在继续，而且随着每个新的 Python 3 版本的发布，它肯定还会增加。

##### 5.有形的利益

Python 3 也带来了更多实实在在的好处。例如，insta gram——使用 Python 的最受欢迎的  [软件产品之一——报告称，在他们的 Python 3 迁移与 Django 更新相结合后，](https://stxnext.com/what-is-python-used-for/) [的 CPU 性能提升了 12%，内存资源使用效率提高了 30%。](https://www.youtube.com/watch?v=66XoCk79kjM&t=2346)

说到这里，还值得一提的是  **虽然 [Django](/services/django-development/) 在很长一段时间内都支持 Python 2，但直到 Django 2.0 发布后才成为 Python 3。随着其他库的跟进，不言而喻，如果没有 Python 2 项目的解释器升级，Instagram 所经历的那种变化可能是不可能的。**

Python 的性能提升有  [连续基准测试](https://speed.python.org/)。然而，应该注意的是，这样的玩具基准很少展示升级到 Python 3 对  [关键任务应用](https://twitter.com/llanga/status/963834977745022976)有多大的好处。

[![Software development](img/839cbcb352d37e77995fce8799fa8662.png)](https://cta-redirect.hubspot.com/cta/redirect/4542168/0234a030-b669-4efc-af8d-baa810d43217) 

#### 对于继续支持 Python 2，你有什么选择？

没有迹象表明 Python 2 的终结日期会再次推迟。Python 的创造者吉多·范·罗苏姆最后一次被公开问及此事时，只是重申了他的立场，即在 2020 年 1 月 1 日结束对 Python 2 的支持。即使在 2014 年的上一次扩展时，这位 Python 语言的前仁慈独裁者也很清楚:  [不会有 Python 2.8](https://hg.python.org/peps/rev/76d43e52d978) 。

正如我们之前说过的，一些 Linux 发行版可能会在未来几年继续支持 Python 3，但是  **这种支持将只涉及安全修复，并且只针对核心解释器和最流行的库。**

谈到新特性，在过去十年左右的时间里，在 Python 2 中获得它们的唯一方法是通过使用一些 hacky backports 或 fork。Python 2.7 最突出的分支是 Tauthon，它试图将 Python 3 的某些特性带到 Python 2 中。然而，近年来 Tauthon 的发展速度明显下降。

所有这些描绘了一幅相对简单的画面:对您来说最聪明的做法是简单地迁移到 Python 3，而不是毫无理由地坚持旧版本。

#### 关于 Python 3 迁移的最终想法

现在使用 Python 2 应该像对待任何代码债务一样对待:它不一定会扼杀你的项目，但它确实会对你的产品产生负面影响，并且随着你推迟移植的时间越长，这种影响还会继续。如果你关心你的软件的长期利益，选择升级你当前版本的 Python 应该是显而易见的。

2020 年 1 月 1 日即将到来，但还没有理由恐慌；您仍然有足够的时间迁移到 Python 3，并以正确的方式完成它。这不是老鼠和沉船的情况。

Python 3 迁移不是一个应该仓促进行的过程，但是现在已经到了开始考虑它的时候了。  **最安全的升级方式之一是在日常开发中逐步引入 Python 3 支持。** 它是活跃项目和关键任务项目的完美解决方案。

这种方法在我们的  [Python 2.7 到 3 迁移指南](/stx-new-blog/python-3-migration-guide/)中有详细描述。我们强烈建议你去看看。

如果您需要 Python 3 迁移或  [Python 开发](https://stxnext.com/services/python-development/) 的整体支持，请随时联系  [让我们知道我们可以如何帮助](https://stxnext.com/contact-us/)。我们在这里支持你！

[![Get a project estimate](img/33a5cf5f1dda99377719e33bff42de03.png)](https://cta-redirect.hubspot.com/cta/redirect/4542168/1ec1ddae-fe98-45ce-ad83-e2e4a20ca20e)*