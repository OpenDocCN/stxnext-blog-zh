# 案例研究:采用 AWS 的云迁移如何转变一家领先的美国金融科技公司的 DevOps 基础架构

> 原文：<https://www.stxnext.com/blog/aws-cloud-migration-case-study/>

 “将我的基础架构迁移到云有什么好处？哪种迁移解决方案最适合我的企业？”

当首席执行官们向我们询问他们的数字产品的未来，特别是他们可以用来升级基础设施的可用型号选择，以及他们是否应该首先考虑这些问题时，这些问题就会出现。

尽管许多公司仍然使用完全内部部署的解决方案运行，但全球越来越多的企业正在将其工作负载迁移到云模型。这种趋势已经持续上升了一段时间，不太可能有任何发展。

[将您的 DevOps 基础架构迁移到云](/services/devops/) 的好处在 STX Next 向我们展示得很清楚，为了实现这一目标，有大量优秀的解决方案可供选择。一个这样的解决方案是 AWS，亚马逊网络服务的缩写。

**继续阅读，了解我们如何支持我们最重要的客户之一，美国金融科技领域的领导者，使用 AWS 对其 DevOps 基础架构进行云迁移。** 

#### 谁是我们的客户，他们做什么？

作为总部位于美国的领先金融科技公司 ，我们客户的平台将零售商和贷款人联系起来，帮助消费者获得最佳融资。我们与他们的合作是 STX 迄今为止持续时间最长的合作之一，已经持续了七年多，而且还在继续。

多年来，我们的团队为客户提供了多项服务，包括 [前端和后端开发](/services/web-development/)[自动化测试和质量保证](/services/software-testing-and-quality-assurance/) ，以及最后但并非最不重要的 [DevOps 服务](/services/devops/) 。

在 STX Next 的客户平台上工作的每个人都至少在某种程度上参与了这个基础设施向云迁移的特定项目，与他们现有的团队密切合作。

#### 客户基础架构的迁移前概述

我们的客户多年来一直致力于并积极使用的解决方案是基于 VMware 的本地模型。他们有两个独立的数据中心，位于美国不同的州。这些 DC 之间的连接由 Cisco ASA 防火墙管理。

与客户一起，我们能够将他们的环境分成三个独立的组:生产、公司和开发。生产资源作为活动和备用资源部署在两个数据中心。所有开发和公司资源都位于生产资源旁边，通过防火墙进行分段管理。

所有客户端的工作负载都被部署为在专用服务器上运行，作为用于特定目的的多个实例:包含所有应用程序的 Docker 节点(这里我们使用了 Docker Swarm orchestration)、数据库、负载平衡解决方案等。

#### 我们是否发现了客户现有基础设施的任何严重问题？

根据我们提出的解决方案，发现了许多限制和问题:

*   硬件寿命终止—两个数据中心的大多数硬件都接近或已经达到五年使用期；
*   不可靠的硬件—客户已经面临两次重大的意外故障，需要长时间的事件响应；
*   容量限制—整个平台的可扩展性有限，这对于日常业务运营至关重要；
*   有限且未经测试的冗余—Cisco ASA 防火墙连接和部署在虚拟机上的部分解决方案；
*   运行在虚拟机上的数据库，性能、可靠性和冗余有限；
*   维护物理数据中心，包括维护服务器和互联网电路，以及内部审计，花费了大量时间；
*   缺乏一些强化标准，修补程序相当有限；
*   缺少 IaC(基础设施即代码)机制；
*   很多其他的小问题。

#### 我们为将客户的基础架构迁移到云做了哪些准备？

经过大量讨论并考虑到上面列出的问题，我们决定采用公共云解决方案，选择 Amazon Web Services 作为我们客户的云服务提供商。

我们一起工作，花了几个月的时间测试生产工作负载的迁移。在几个周期中重复完全回归测试。根据我们的发现，我们能够准备好要部署到 AWS 环境中的基础设施和应用程序。

迁移本身分为几个部分。我们将生产工作负载转移到两个独立的维护窗口中:首先是备用窗口，然后是活动窗口。所有的开发和公司资源都是并行部署的。

此次迁移所采用的策略更像是一次彻底的重新设计，而不是简单的迁移，因为 AWS 凭借其丰富的托管服务基础为我们提供了许多可能性。这是从头开始部署这些服务并替换在 VMware 实例上运行的一些传统服务的绝佳机会。

#### 我们如何构建客户的新 DevOps 基础架构？

客户的新云环境由三个独立的帐户组成，分别用于生产、企业和开发工作负载。

这些帐户中的每一个都使用至少几个 AWS 区域，这些区域包含基于预定义架构的特定工作负载，这应该可以确保完全的 HA(高可用性)。

这三种环境都基于虚拟私有云解决方案，该解决方案帮助我们配置可用性区域和逻辑隔离的网络。同样重要的是，他们拥有模块化和可扩展的体系结构。

每个 VPC 包括所有必要的预定义资源，如 ec2、负载平衡器、安全组等。大多数应用程序运行在 Docker 群节点之上。

对于整个基础设施，我们使用基于 AWS CloudFormation 的 IaC。所有的栈、资源和服务都是在 YAML 文件中定义的，位于 Git 存储库中，并采用了最佳实践，随时可以提供它们。

#### 我们使用了哪些 AWS 托管服务和功能来为客户设置云基础架构？

如前所述，从我们决定选择亚马逊公共云解决方案的那一刻起，我们就一直在积极利用 AWS 资源。对于我们客户的整个组织来说，这是一个巨大的运营改进。

以下是我们为客户的云环境配置使用的特定 DevOps 服务的几个显著示例:

*   Amazon Aurora——关系数据库引擎，结合了高性能和可用性，允许我们的团队使用 MySQL 集群，
*   亚马逊 MSK—多个完全冗余的 Kafka 集群，用于传输数据流，
*   Amazon elastic cache—多个完全冗余的 Redis 集群，支持加密，
*   Amazon 弹性负载平衡——多个应用程序和网络负载平衡器用于在特定集群内的多个 EC2 实例之间分配流量，
*   Amazon Auto Scaling Groups—监控和自动扩展我们的 EC2 集群，实现高性能。

我们选择 AWS 进行迁移的主要原因之一是让所有的开发和测试环境成为当前生产环境的完整镜像。AWS 生态系统允许我们使用内置的机制，以一种相当简单的方式做到这一点。

#### 为我们客户的 DevOps 云迁移使用 Amazon Web Services 的 7 大优势

迁移客户的基础设施带来了许多好处，我们的团队和客户在日常运营中都观察到了这些好处。将 DevOps 基础架构迁移到 AWS 完全重新定义了我们客户的业务。

##### 1.最佳业务契合度

由于其易于扩展且可靠的基础设施，AWS 非常适合大多数以 24/7 模式运行的企业，就像我们的客户一样。

##### 2.显著降低成本

我们的客户不再需要维护他们自己的基础架构，他们只需为他们在任何给定时刻使用的云资源付费，这使得他们的开支更加可预测。

事实上，全球越来越多的公司正在积极使用云服务，这也意味着云提供商继续降低他们向最终用户提供服务的价格。

##### 3.数据安全和保护

这对所有企业都非常重要，我们的客户也不例外。AWS 保护存储在客户端的数据，根据客户的需求和存储数据的具体情况，通过多种方式保持数据的安全可靠。

##### 4.业务和基础设施可扩展性

根据当前环境负载和需求不断调配和取消调配资源在旺季非常有用，可以避免平台在最有利可图的时期停机。

##### 5.灾难恢复计划

在 AWS 托管服务及其底层机制的帮助下，我们的客户端通过独立的活动/备用区域为特定的故障转移场景做好了准备。

##### 6.额外远程工作解决方案

AWS 为远程工作提供了额外的完全托管的解决方案，例如 AWS Workspaces，这是一种桌面虚拟化服务。

##### 7.增强内部开发能力

释放内部基础设施工程师的资源意味着花在维护基础设施上的时间更少，而有更多的时间进行改进，包括探索更多内置 AWS 服务等未来项目。

除了使用 AWS 的云迁移已经促进了我们客户业务的各种方式之外，还有很大的改进潜力，例如迁移到 ECS(弹性容器服务)和/或 EKS(弹性 Kubernetes 服务)、自动化或 CI/CD 流程，在这些方面 AWS 也非常有用。

#### 关于使用 AWS 将 DevOps 基础架构迁移到云的最终想法

使用 Amazon Web Services 将您的 DevOps 基础架构迁移到云中有许多技术和业务优势。

负责从内部解决方案迁移到任何公共云提供商的团队需要在云解决方案方面接受良好的培训，特别是在架构规划方面，这是采取任何与迁移本身相关的行动之前的第一步，也是最重要的一步。

STX Next 由经验丰富的 DevOps 专业人员组成的 [团队可以全力支持您的组织实施整个流程。我们将计划、测试、部署和维护您的项目特别需要的所有资源。](/services/devops/)

这个特定的金融科技客户并不是我们帮助他们进行 DevOps 云基础设施迁移的唯一一家公司。 [查看本案例研究](/blog/case-study-devops-cloud-infrastructure-for-network-heating-provider/) ，了解我们团队的工作如何为英国的一家网络供暖提供商带来 1000%的性能提升和 40%的成本优化。

我们还有几个关于 DevOps 的有用资源，从入门级到高级都有:

*   [什么是 DevOps？开发经理简介](/blog/what-is-devops/)
*   [什么是 AIOps、BizDevOps、CloudOps、DevOps、ITOps、NoOps？数字商业转型简介](/blog/aiops-bizdevops-cloudops-devops-itops-noops-introduction-digital-business-transformation/)
*   [DevOps:如何在 AWS S3T3 上托管一个简单的静态网站](/blog/devops-hosting-static-websites-aws-s3/)
*   [DevOps 工具概述:使用 CloudWatch 和 OpsGenie](/blog/monitoring-cloud-infrastructure-cloudwatch-opsgenie/) 监控云基础设施

如果您有兴趣让我们帮助您通过 DevOps 云迁移转变您的数字产品，您需要做的就是 [联系我们](https://www.stxnext.com/hire-us) ，我们将立即着手！